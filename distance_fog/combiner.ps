!!TS1.0
texture_2d();

!!RC1.0
// TODO: Remove constant color and pass it through instead.
// Also, find out if/how we can use fixed-function fog instead. No register combiners, no vertex shaders, just hardware registers.
const0 = (0.61, 0.19, 0.11, 1.0);
{
    rgb {
        spare0 = tex0.rgb;
    }
    
    alpha {
        col0 = tex0.a;
    }
}

out.rgb = lerp(fog.a, const0, color_sum);
out.a = unsigned(col0.a);
